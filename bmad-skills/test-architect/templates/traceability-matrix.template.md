# Requirements Traceability Matrix

**Project:** {{project_name}}
**Scope:** {{scope}} (story | epic | release)
**Date:** {{date}}
**Gate Decision:** {{decision}}

---

## Executive Summary

| Metric | Value |
|--------|-------|
| Total Requirements | {{total_requirements}} |
| Requirements with Tests | {{requirements_with_tests}} |
| Coverage Percentage | {{coverage_percentage}}% |
| Critical Paths Covered | {{critical_paths_status}} |
| Gate Decision | **{{decision}}** |

## Traceability Matrix

### Functional Requirements

| Req ID | Requirement | Unit | Integration | API | E2E | Status |
|--------|-------------|------|-------------|-----|-----|--------|
{{#functional_requirements}}
| {{id}} | {{description}} | {{unit}} | {{integration}} | {{api}} | {{e2e}} | {{status}} |
{{/functional_requirements}}

### Non-Functional Requirements

| Req ID | Requirement | Category | Test Type | Status |
|--------|-------------|----------|-----------|--------|
{{#nfr_requirements}}
| {{id}} | {{description}} | {{category}} | {{test_type}} | {{status}} |
{{/nfr_requirements}}

## Coverage by Test Level

| Level | Total Tests | Passing | Failing | Skipped | Coverage |
|-------|-------------|---------|---------|---------|----------|
| Unit | {{unit_total}} | {{unit_pass}} | {{unit_fail}} | {{unit_skip}} | {{unit_coverage}}% |
| Integration | {{int_total}} | {{int_pass}} | {{int_fail}} | {{int_skip}} | {{int_coverage}}% |
| API | {{api_total}} | {{api_pass}} | {{api_fail}} | {{api_skip}} | {{api_coverage}}% |
| E2E | {{e2e_total}} | {{e2e_pass}} | {{e2e_fail}} | {{e2e_skip}} | {{e2e_coverage}}% |

## Critical Path Analysis

### Critical User Journeys

| Journey | Requirements | Test Coverage | Status |
|---------|--------------|---------------|--------|
{{#critical_paths}}
| {{name}} | {{requirements}} | {{coverage}} | {{status}} |
{{/critical_paths}}

## Coverage Gaps

### Missing Test Coverage

| Requirement | Gap Type | Priority | Recommendation |
|-------------|----------|----------|----------------|
{{#gaps}}
| {{requirement}} | {{gap_type}} | {{priority}} | {{recommendation}} |
{{/gaps}}

### Risk Assessment

| Gap | Business Impact | Likelihood | Risk Score | Mitigation |
|-----|-----------------|------------|------------|------------|
{{#risks}}
| {{gap}} | {{impact}} | {{likelihood}} | {{score}} | {{mitigation}} |
{{/risks}}

## Quality Metrics

### Test Quality

| Metric | Target | Actual | Status |
|--------|--------|--------|--------|
| Flaky Tests | 0 | {{flaky_count}} | {{flaky_status}} |
| Test Execution Time | <{{target_time}}s | {{actual_time}}s | {{time_status}} |
| False Positives (30d) | 0 | {{false_positives}} | {{fp_status}} |

### Code Quality

| Metric | Target | Actual | Status |
|--------|--------|--------|--------|
| Line Coverage | 80% | {{line_coverage}}% | {{line_status}} |
| Branch Coverage | 80% | {{branch_coverage}}% | {{branch_status}} |
| Complexity | <10 | {{complexity}} | {{complexity_status}} |

## Gate Decision

### Decision: **{{decision}}**

{{#decision_pass}}
**PASS** - All quality criteria met

Rationale:
- Coverage targets achieved ({{coverage_percentage}}%)
- All critical paths tested
- No failing tests
- No flaky tests detected
{{/decision_pass}}

{{#decision_concerns}}
**PASS WITH CONCERNS** - Quality criteria mostly met

Concerns:
{{#concerns}}
- {{concern}}
{{/concerns}}

Recommendations:
{{#recommendations}}
- {{recommendation}}
{{/recommendations}}

Approved for release with tracking of above concerns.
{{/decision_concerns}}

{{#decision_fail}}
**FAIL** - Quality criteria not met

Blocking Issues:
{{#blocking}}
- {{issue}}
{{/blocking}}

Required Actions:
{{#actions}}
- {{action}}
{{/actions}}

Release blocked until issues resolved.
{{/decision_fail}}

{{#decision_waived}}
**WAIVED** - Gate bypassed with approval

Waiver Reason: {{waiver_reason}}
Approved By: {{approver}}
Tracking Issue: {{tracking_issue}}

Conditions:
{{#waiver_conditions}}
- {{condition}}
{{/waiver_conditions}}
{{/decision_waived}}

## Appendix

### Test File Mapping

| Requirement | Test Files |
|-------------|------------|
{{#test_mapping}}
| {{requirement}} | {{files}} |
{{/test_mapping}}

### Execution History

| Date | Total | Pass | Fail | Decision |
|------|-------|------|------|----------|
{{#history}}
| {{date}} | {{total}} | {{pass}} | {{fail}} | {{decision}} |
{{/history}}

---

*Generated by Test Architect skill on {{date}}*
